---
import Link from '@/components/Link.astro'
import BorderEraser from '@/components/port/BorderEraser'
import TuiCard from '@/components/port/TuiCard'
import TuiHeading from '@/components/TuiHeading.astro'
import { buttonVariants } from '@/components/ui/button'
import { ICON_MAP, SOCIAL_LINKS } from '@/consts'
import { Icon } from 'astro-icon/components'
import { Image } from 'astro:assets'

// Use the first 3 links or all of them if less than 3
const heroLinks = SOCIAL_LINKS.slice(0, 3)
---

<div class="flex flex-col">
    <!-- Tab Section -->
    <div class="relative z-10 w-fit">
        <TuiCard
            client:load
            className="compact px-6 pt-6 pb-3"
            data-tui-group-hover-id="hero-info"
        >
            <TuiHeading level={2}>Info</TuiHeading>
        </TuiCard>
        <!-- Eraser to remove the boundary between tab and body -->
        <BorderEraser
            client:load
            className="absolute right-[4px] -bottom-2 left-[4px] h-4"
        />
    </div>

    <!-- Body Section -->
    <TuiCard
        client:load
        className="relative z-0 -mt-[4px] pt-6"
        data-tui-group-hover-id="hero-info"
    >
        <div
            class="grid grid-cols-1 gap-8 p-6 font-mono text-sm leading-relaxed md:grid-cols-[2fr_1fr]"
        >
            {/* Left Column - Man Page Text */}
            <div class="order-2 flex flex-col gap-6 md:order-1">
                <!-- <div
                class="border-border text-muted-foreground flex w-full justify-between border-b pb-2 text-xs uppercase"
            >
                <span>AARON-WU(1)</span>
                <span>Generic Manual Page</span>
                <span>AARON-WU(1)</span>
            </div> -->

                <div>
                    <h3 class="text-secondary mb-1 font-bold uppercase">
                        NAME
                    </h3>
                    <div class="pl-8">
                        <span class="font-bold">aaron-wu</span> - likes computers,
                        avid cat appreciator, and sometimes builds things
                    </div>
                </div>

                <div>
                    <h3 class="text-secondary mb-1 font-bold uppercase">
                        SYNOPSIS
                    </h3>
                    <div class="pl-8">
                        <span class="font-bold">aaron</span> [--coffee] [--code]
                        [--cats]
                    </div>
                </div>

                <div>
                    <h3 class="text-secondary mb-1 font-bold uppercase">
                        DESCRIPTION
                    </h3>
                    <div class="text-muted-foreground space-y-4 pl-8">
                        <p>
                            He is the result of a kid who fell down a long
                            rabbit hole when he tried to "hack" Club Penguin
                            that one time many years ago.
                        </p>
                        <p>
                            A sentient being in an active state of
                            opportunity-seeking, particularly in domains
                            involving feline interaction.
                        </p>
                    </div>
                </div>

                <div>
                    <h3 class="text-secondary mb-1 font-bold uppercase">
                        OPTIONS
                    </h3>
                    <div class="text-muted-foreground flex gap-4 pl-8">
                        <!-- {
                        heroLinks
                            .map((link) => (
                                <span class="lowercase">{link.label}(1)</span>
                            ))
                            .join(', ')
                    } -->
                        Continue through the site for some more "interesting" thoughts
                        by aaron-wu.
                    </div>
                </div>

                <div
                    class="border-border text-muted-foreground block border-t pt-2 text-center text-xs uppercase md:hidden"
                >
                    Aaron Wu Portfolio 2026
                </div>
            </div>

            {/* Right Column - Image & Icons */}
            <div
                class="order-1 flex flex-col items-center justify-center gap-8 md:order-2"
            >
                <div class="relative h-48 w-48 shrink-0 md:h-56 md:w-56">
                    <Image
                        src="/boycat.png"
                        alt="Aaron Wu with cat"
                        width={400}
                        height={400}
                        class="ml-[16px] h-full w-full rounded-full border-2 border-none object-cover"
                    />
                </div>

                <div class="flex gap-4">
                    {
                        heroLinks.map(({ href, label }) => (
                            <Link
                                href={href}
                                aria-label={label}
                                title={label}
                                class={
                                    buttonVariants({
                                        variant: 'outline',
                                        size: 'icon',
                                    }) + ' rounded-full'
                                }
                                external
                            >
                                <Icon
                                    name={
                                        ICON_MAP[
                                            label as keyof typeof ICON_MAP
                                        ] || 'lucide:link'
                                    }
                                    class="size-5"
                                />
                            </Link>
                        ))
                    }
                </div>
            </div>

            <!-- <div class="col-span-full border-t border-border pt-2 text-center uppercase text-xs text-muted-foreground hidden md:block order-3">
        Aaron Wu Portfolio 2026
      </div> -->
        </div>
    </TuiCard>
</div>
